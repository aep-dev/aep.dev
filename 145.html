<!DOCTYPE html>
<html lang="en-US" class="glue-flexbox">
  <head>
    <title>AIP-145: Ranges</title>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link href="//fonts.googleapis.com/css?family=Roboto:100,300,400,500,700|Google+Sans:400,500|Product+Sans:400&amp;lang=en" rel="stylesheet"></link>
    <link rel="shortcut icon" href="/aep.dev/assets/favicon.ico">
    <link rel="stylesheet" type="text/css" media="screen" href="//www.gstatic.com/glue/v22_1/glue.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/aep.dev/assets/css/style.css?v=e1c31a30">
    <link rel="stylesheet" type="text/css" media="print" href="/aep.dev/assets/css/print.css?v=e1c31a30">
    <script type="text/javascript" src="//code.jquery.com/jquery-3.4.0.min.js"></script>
    <script type="text/javascript" src="//www.gstatic.com/glue/latest/glue-detect.min.js"></script>
    <script type="text/javascript">
      $('html').css('visibility', 'hidden');
      $.when($.ready).then(() => {
        $('html').css('visibility', 'visible');
      });
    </script>
    <script type="text/javascript" src="/aep.dev/assets/js/global.js?v=e1c31a30"></script>
    
<script type="text/javascript" src="/aep.dev/assets/js/syntax.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140054909-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-140054909-1');
    </script>
  </head>
  <body>
    <!-- prettier-ignore -->
<header class="glue-header glue-header--single">
  <div class="glue-header__bar glue-header__bar--desktop glue-header__drawer">
    <div class="glue-header__tier">
      <!-- LOCK up-->
      <div class="glue-header__container">
        <div class="glue-header__lock-up">
          <div class="glue-header__logo">
            <a class="glue-header__logo-link" href="/aep.dev/" title="Google">
              <div class="glue-header__logo-container">
                <svg role="img" aria-hidden="true" class="glue-header__logo-svg">
                <use xlink:href="/aep.dev/assets/images/glue-icons.svg#google-color-logo"></use>
                </svg>
              </div>
              <p class="glue-header__logo--product">AIPs</p>
            </a>
          </div>
          <a href="#page-content" class="glue-header__skip-content">
            <p class="glue-header__skip-content-text">Jump to Content</p>
          </a>
        </div>
      </div>
      <!-- LINK BAR-->
      <div class="glue-header__container glue-header__container--flex-auto">
        <nav class="glue-header__link-bar">
          <ul id="list-1" class="glue-header__list">
            
              
                <li class="glue-header__item">
                  <a class="glue-header__link" href="/aep.dev/general" aria-level="1">Browse AIPs</a>
                </li>
              
            
              
                <li class="glue-header__item">
                  <a class="glue-header__link" href="/aep.dev/contributing" aria-level="1">Contributing</a>
                </li>
              
            
          </ul>
        </nav>
      </div>
      <!-- CTA-->
      <div class="glue-header__container glue-header__container--cta">
        <div class="glue-header__cta">
        <div class="glue-sitesearch">
          <form method="GET" action="/aep.dev/search">
          <label for="q">Search this site</label>
          <input class="glue-sitesearch__input" type="text" name="q" id="q"
            placeholder="Search AIPs">
          <button type="submit" class="glue-button glue-sitesearch__submit" title="Submit">
            <svg role="img" class="glue-icon glue-icon--24px">
            <use xlink:href="/aep.dev/assets/images/glue-icons.svg#search"></use>
            </svg>
          </button>
          </form>
        </div>
        <a href="https://github.com/aep-dev/aep.dev" target="_blank" class="glue-button glue-button--high-emphasis">
          <img src="/aep.dev/assets/images/github.png" class="github-logo">
          View on GitHub
        </a>
        </div>
      </div>
    </div>
  </div>
  <!-- Mobile header placeholder -->
  <div class="glue-header__bar glue-header__bar--mobile">
    <div class="glue-header__tier">
      <!-- LOCK up-->
      <div class="glue-header__container">
        <div class="glue-header__lock-up">
          <div class="glue-header__hamburger glue-header__hamburger--first-tier">
            <div class="glue-header__hamburger-wrapper">
              <button type="button" class="glue-header__drawer-toggle-btn"
                aria-controls="drawer" aria-expanded="false" aria-label="Open the navigation drawer">
                <svg role="img" class="glue-icon glue-icon--24px"><use xlink:href="/aep.dev/assets/images/glue-icons.svg#menu"></use></svg>
              </button>
            </div>
          </div>
          <div class="glue-header__logo">
            <a class="glue-header__logo-link" href="/aep.dev/" title="Google">
              <div class="glue-header__logo-container">
                <svg role="img" aria-hidden="true" class="glue-header__logo-svg">
                  <use xlink:href="/aep.dev/assets/images/glue-icons.svg#google-color-logo"></use>
                </svg>
              </div>
              <p class="glue-header__logo--product">AIPs</p>
            </a>
          </div>
          <!-- SKIP -->
          <a href="#page-content" class="glue-header__skip-content">
            <p class="glue-header__skip-content-text">Jump to Content</p>
          </a>
        </div>
      </div>
      <!-- CTA -->
      <div class="glue-header__container">
        <div class="glue-header__cta">
        <a href="https://github.com/aep-dev/aep.dev" class="glue-button glue-button--high-emphasis">
          <img src="/aep.dev/assets/images/github.png" class="github-logo">
          View on GitHub
        </a>
        </div>
      </div>
    </div>
  </div>
  <div class="glue-header__drawer-backdrop"></div>
</header>
    <div class="glue-page">
      
      <main role="main" id="page-content">
        
<nav id="aip-nav" class="docs-component-nav">
  <ul class="nav-list">
    <li class="nav-item nav-item-header">AIPs by Scope</li>
    <li class="nav-item">
      <a href="/aep.dev/general">General</a>
    </li>
    <li class="nav-item nav-item-header">AIPs</li>
    <li class="nav-item">
      <a href="/aep.dev/1">
        <span class="aip-number">1</span>
        AIP Purpose and Guidelines
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/126">
        <span class="aip-number">126</span>
        Enumerations
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/131">
        <span class="aip-number">131</span>
        GET for individual resources
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/132">
        <span class="aip-number">132</span>
        GET for collections
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/136">
        <span class="aip-number">136</span>
        Custom operations
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/141">
        <span class="aip-number">141</span>
        Quantities
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/142">
        <span class="aip-number">142</span>
        Time and duration
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/144">
        <span class="aip-number">144</span>
        Array fields
      </a>
    </li>
    <li class="nav-item nav-item-active">
      <a href="/aep.dev/145">
        <span class="aip-number">145</span>
        Ranges
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/151">
        <span class="aip-number">151</span>
        Long-running requests
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/154">
        <span class="aip-number">154</span>
        Resource freshness validation
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/158">
        <span class="aip-number">158</span>
        Pagination
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/164">
        <span class="aip-number">164</span>
        Soft delete
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/210">
        <span class="aip-number">210</span>
        Unicode
      </a>
    </li>
    <li class="nav-item">
      <a href="/aep.dev/211">
        <span class="aip-number">211</span>
        Authorization checks
      </a>
    </li>
    </ul>
</nav>
<section id="jump-content">
          
<aside id="aip-sidebar" class="docs-component-sidebar">
  <table id="aip-summary">
    <tr><th colspan="2">Ranges</th></tr>
    <tr><td>Number</td><td>145</td></tr>
    <tr><td>Permalink</td><td><a href="https://aep-dev.github.io/aep.dev/145">aep-dev.github.io/aep.dev/145</a></td></tr>
    <tr><td>State</td><td>Approved</td></tr>
    <tr><td>Created</td><td>2020-05-28</td></tr>
    <tr><td>Updated</td><td>2020-05-28</td></tr>
  </table>

  <section id="aip-toc" class="docs-component-sidebar-toc">
    <div class="toc"><span class="toctitle">Contents</span><ul>
<li><a href="#guidance">Guidance</a><ul>
<li><a href="#inclusive-or-exclusive-ranges">Inclusive or exclusive ranges</a></li>
<li><a href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>
</div>

  </section>

  <section class="docs-component-sidebar-actions">
    <ul>
      <li><a href="https://github.com/aep-dev/aep.dev/issues/">File Bug</a></li>
      <li><a href="https://github.com/aep-dev/aep.dev/blob/master/aip/general/0145">View source</a></li>
      <li><a href="https://github.com/aep-dev/aep.dev/edit/master/aip/general/0145">Edit this page</a></li>
    </ul>
  </section>
</aside>
<section id="aip-main" class="docs-component-main">
  <section class="section-breadcrumbs">
  <nav
    class="glue-breadcrumbs glue-mod-mt-std glue-mod-mb-std"
    aria-label="You are here."
  >
    <ol class="glue-breadcrumbs__list aip-breadcrumbs">
      <li class="glue-breadcrumbs__item" aria-level="1">
        <a class="glue-breadcrumbs__link" href="/aep.dev/">
          API Improvement Proposals
        </a>
      </li>
      
      <li class="glue-breadcrumbs__item" aria-level="2">
        <a class="glue-breadcrumbs__link" href="/aep.dev/general">
          General AIPs
        </a>
      </li>
      
      <li class="glue-breadcrumbs__item glue-breadcrumbs__item--active"
          aria-level="3">
        Ranges
      </li>
    </ol>
  </nav>
</section>
  
  <h4 class="aip-number">AIP-145</h4>
  <h1 id="ranges">Ranges</h1>
<p>Services often need to represent ranges of discrete or continuous values. These
have wide differences in meaning, and come in many types: integers, floats, and
timestamps, just to name a few, and the expected meaning of a range can vary in
subtle ways depending on the type of range being discussed.</p>
<h2 id="guidance">Guidance</h2>
<p>A resource or message representing a range <strong>should</strong> ordinarily use two
separate fields of the same type, with prefixes <code>start_</code> and <code>end_</code>:</p>
<div class="highlight language-typescript"><pre><span></span><code><span class="c1">// A representation of a chapter in a book.</span>
<span class="kd">interface</span> <span class="nx">Chapter</span> <span class="p">{</span>
  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="c1">// The page where this chapter begins.</span>
  <span class="nx">startPage</span>: <span class="kt">number</span><span class="p">;</span>

  <span class="c1">// The page where the next chapter or section begins.</span>
  <span class="nx">endPage</span>: <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="inclusive-or-exclusive-ranges">Inclusive or exclusive ranges</h3>
<p>Fields representing ranges <strong>should</strong> use inclusive start values and exclusive
end values (half-closed intervals) in most situations; in interval notation:
<code>[start_xxx, end_xxx)</code>.</p>
<p>Exclusive end values are preferable for the following reasons:</p>
<ul>
<li>It conforms to user expectations, particularly for continuous values such as
  timestamps, and avoids the need to express imprecise "limit values" (e.g.
  <code>2012-04-20T23:59:59</code>).</li>
<li>It is consistent with most common programming languages, including C++, Java,
  Python, and Go.</li>
<li>It is easier to reason about abutting ranges: <code>[0, x), [x, y), [y, z)</code>, where
  values are chainable from one range to the next.</li>
</ul>
<h3 id="exceptions">Exceptions</h3>
<p>In some cases, there is significant colloquial precedent for inclusive start
and end values (closed intervals), to the point that using an exclusive end
value would be confusing even for people accustomed to them.</p>
<p>For example, when discussing dates (not to be confused with timestamps), most
people use inclusive end: a conference with dates "April 21-23" is expected to
run for three days: April 21, April 22, and April 23. This is also true for
days of the week: a business that is open "Monday through Friday" is open, not
closed, on Fridays.</p>
<p>In this situation, the prefixes <code>first</code> and <code>last</code> <strong>should</strong> be used instead:</p>
<div class="highlight language-typescript"><pre><span></span><code><span class="c1">// A representation of a chapter in a book.</span>
<span class="kd">interface</span> <span class="nx">Chapter</span> <span class="p">{</span>
  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="c1">// The first page of the chapter.</span>
  <span class="nx">firstPage</span>: <span class="kt">number</span><span class="p">;</span>

  <span class="c1">// The last page of the chapter.</span>
  <span class="nx">lastPage</span>: <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Fields representing ranges with significant colloquial precedent for inclusive
start and end values <strong>should</strong> use inclusive end values with <code>first_</code> and
<code>last_</code> prefixes for those ranges only. The service <strong>should</strong> still use
exclusive end values for other ranges where this does not apply, and <strong>must</strong>
clearly document each range as inclusive or exclusive.</p>
  <footer>
  Except as otherwise noted, the content of this page is licensed under the
  <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons
  Attribution 4.0 License</a>, and code samples are licensed under the
  <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>.
  <span class="no-print">For details, see <a href="/licensing">content
  licensing</a>.</span>
</footer>
</section>

        </section>
      </main>
      
    </div>
    <script src="//www.gstatic.com/external_hosted/hammerjs/v2_0_2/hammer.min.js"></script>
    <script src="//www.gstatic.com/glue/v22_1/glue-vanilla.min.js"></script>
    <script type="text/javascript">
      const headerElement = document.querySelector('.glue-header');
      if (headerElement) {
        new window.glue.ui.header.Header(headerElement);
      }
    </script>
  </body>
</html>