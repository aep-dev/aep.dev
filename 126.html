<!DOCTYPE html>
<html lang="en-US" class="glue-flexbox">
  <head>
    <title>AIP-126: Enumerations</title>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link href="//fonts.googleapis.com/css?family=Roboto:100,300,400,500,700|Google+Sans:400,500|Product+Sans:400&amp;lang=en" rel="stylesheet"></link>
    <link rel="shortcut icon" href="/aip.dev/assets/favicon.ico">
    <link rel="stylesheet" type="text/css" media="screen" href="//www.gstatic.com/glue/v22_1/glue.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/aip.dev/assets/css/style.css?v=2b16d80c">
    <link rel="stylesheet" type="text/css" media="print" href="/aip.dev/assets/css/print.css?v=2b16d80c">
    <script type="text/javascript" src="//code.jquery.com/jquery-3.4.0.min.js"></script>
    <script type="text/javascript" src="//www.gstatic.com/glue/latest/glue-detect.min.js"></script>
    <script type="text/javascript">
      $('html').css('visibility', 'hidden');
      $.when($.ready).then(() => {
        $('html').css('visibility', 'visible');
      });
    </script>
    <script type="text/javascript" src="/aip.dev/assets/js/global.js?v=2b16d80c"></script>
    
<script type="text/javascript" src="/aip.dev/assets/js/syntax.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140054909-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-140054909-1');
    </script>
  </head>
  <body>
    <!-- prettier-ignore -->
<header class="glue-header glue-header--single">
  <div class="glue-header__bar glue-header__bar--desktop glue-header__drawer">
    <div class="glue-header__tier">
      <!-- LOCK up-->
      <div class="glue-header__container">
        <div class="glue-header__lock-up">
          <div class="glue-header__logo">
            <a class="glue-header__logo-link" href="/aip.dev/" title="Google">
              <div class="glue-header__logo-container">
                <svg role="img" aria-hidden="true" class="glue-header__logo-svg">
                <use xlink:href="/aip.dev/assets/images/glue-icons.svg#google-color-logo"></use>
                </svg>
              </div>
              <p class="glue-header__logo--product">AIPs</p>
            </a>
          </div>
          <a href="#page-content" class="glue-header__skip-content">
            <p class="glue-header__skip-content-text">Jump to Content</p>
          </a>
        </div>
      </div>
      <!-- LINK BAR-->
      <div class="glue-header__container glue-header__container--flex-auto">
        <nav class="glue-header__link-bar">
          <ul id="list-1" class="glue-header__list">
            
              
                <li class="glue-header__item">
                  <a class="glue-header__link" href="/aip.dev/general" aria-level="1">Browse AIPs</a>
                </li>
              
            
              
                <li class="glue-header__item">
                  <a class="glue-header__link" href="/aip.dev/contributing" aria-level="1">Contributing</a>
                </li>
              
            
          </ul>
        </nav>
      </div>
      <!-- CTA-->
      <div class="glue-header__container glue-header__container--cta">
        <div class="glue-header__cta">
        <div class="glue-sitesearch">
          <form method="GET" action="/aip.dev/search">
          <label for="q">Search this site</label>
          <input class="glue-sitesearch__input" type="text" name="q" id="q"
            placeholder="Search AIPs">
          <button type="submit" class="glue-button glue-sitesearch__submit" title="Submit">
            <svg role="img" class="glue-icon glue-icon--24px">
            <use xlink:href="/aip.dev/assets/images/glue-icons.svg#search"></use>
            </svg>
          </button>
          </form>
        </div>
        <a href="https://github.com/aip-dev/aip.dev" target="_blank" class="glue-button glue-button--high-emphasis">
          <img src="/aip.dev/assets/images/github.png" class="github-logo">
          View on GitHub
        </a>
        </div>
      </div>
    </div>
  </div>
  <!-- Mobile header placeholder -->
  <div class="glue-header__bar glue-header__bar--mobile">
    <div class="glue-header__tier">
      <!-- LOCK up-->
      <div class="glue-header__container">
        <div class="glue-header__lock-up">
          <div class="glue-header__hamburger glue-header__hamburger--first-tier">
            <div class="glue-header__hamburger-wrapper">
              <button type="button" class="glue-header__drawer-toggle-btn"
                aria-controls="drawer" aria-expanded="false" aria-label="Open the navigation drawer">
                <svg role="img" class="glue-icon glue-icon--24px"><use xlink:href="/aip.dev/assets/images/glue-icons.svg#menu"></use></svg>
              </button>
            </div>
          </div>
          <div class="glue-header__logo">
            <a class="glue-header__logo-link" href="/aip.dev/" title="Google">
              <div class="glue-header__logo-container">
                <svg role="img" aria-hidden="true" class="glue-header__logo-svg">
                  <use xlink:href="/aip.dev/assets/images/glue-icons.svg#google-color-logo"></use>
                </svg>
              </div>
              <p class="glue-header__logo--product">AIPs</p>
            </a>
          </div>
          <!-- SKIP -->
          <a href="#page-content" class="glue-header__skip-content">
            <p class="glue-header__skip-content-text">Jump to Content</p>
          </a>
        </div>
      </div>
      <!-- CTA -->
      <div class="glue-header__container">
        <div class="glue-header__cta">
        <a href="https://github.com/aip-dev/aip.dev" class="glue-button glue-button--high-emphasis">
          <img src="/aip.dev/assets/images/github.png" class="github-logo">
          View on GitHub
        </a>
        </div>
      </div>
    </div>
  </div>
  <div class="glue-header__drawer-backdrop"></div>
</header>
    <div class="glue-page">
      
      <main role="main" id="page-content">
        
<nav id="aip-nav" class="docs-component-nav">
  <ul class="nav-list">
    <li class="nav-item nav-item-header">AIPs by Scope</li>
    <li class="nav-item">
      <a href="/aip.dev/general">General</a>
    </li>
    <li class="nav-item nav-item-header">AIPs</li>
    <li class="nav-item">
      <a href="/aip.dev/1">
        <span class="aip-number">1</span>
        AIP Purpose and Guidelines
      </a>
    </li>
    <li class="nav-item nav-item-active">
      <a href="/aip.dev/126">
        <span class="aip-number">126</span>
        Enumerations
      </a>
    </li>
    <li class="nav-item">
      <a href="/aip.dev/131">
        <span class="aip-number">131</span>
        GET for individual resources
      </a>
    </li>
    <li class="nav-item">
      <a href="/aip.dev/145">
        <span class="aip-number">145</span>
        Ranges
      </a>
    </li>
    <li class="nav-item">
      <a href="/aip.dev/151">
        <span class="aip-number">151</span>
        Long-running requests
      </a>
    </li>
    </ul>
</nav>
<section id="jump-content">
          
<aside id="aip-sidebar" class="docs-component-sidebar">
  <table id="aip-summary">
    <tr><th colspan="2">Enumerations</th></tr>
    <tr><td>Number</td><td>126</td></tr>
    <tr><td>Permalink</td><td><a href="https://aip-dev.github.io/aip.dev/126">aip-dev.github.io/aip.dev/126</a></td></tr>
    <tr><td>State</td><td>Approved</td></tr>
    <tr><td>Created</td><td>2019-07-24</td></tr>
    <tr><td>Updated</td><td>2019-07-24</td></tr>
  </table>

  <section id="aip-toc" class="docs-component-sidebar-toc">
    <div class="toc"><span class="toctitle">Contents</span><ul>
<li><a href="#guidance">Guidance</a><ul>
<li><a href="#when-to-use-enums">When to use enums</a></li>
<li><a href="#alternatives">Alternatives</a></li>
<li><a href="#compatibility">Compatibility</a></li>
</ul>
</li>
<li><a href="#interface-definitions">Interface Definitions</a></li>
<li><a href="#further-reading">Further reading</a></li>
</ul>
</div>

  </section>

  <section class="docs-component-sidebar-actions">
    <ul>
      <li><a href="https://github.com/aip-dev/aip.dev/issues/">File Bug</a></li>
      <li><a href="https://github.com/aip-dev/aip.dev/blob/master/aip/general/0126">View source</a></li>
      <li><a href="https://github.com/aip-dev/aip.dev/edit/master/aip/general/0126">Edit this page</a></li>
    </ul>
  </section>
</aside>
<section id="aip-main" class="docs-component-main">
  <section class="section-breadcrumbs">
  <nav
    class="glue-breadcrumbs glue-mod-mt-std glue-mod-mb-std"
    aria-label="You are here."
  >
    <ol class="glue-breadcrumbs__list aip-breadcrumbs">
      <li class="glue-breadcrumbs__item" aria-level="1">
        <a class="glue-breadcrumbs__link" href="/aip.dev/">
          API Improvement Proposals
        </a>
      </li>
      
      <li class="glue-breadcrumbs__item" aria-level="2">
        <a class="glue-breadcrumbs__link" href="/aip.dev/general">
          General AIPs
        </a>
      </li>
      
      <li class="glue-breadcrumbs__item glue-breadcrumbs__item--active"
          aria-level="3">
        Enumerations
      </li>
    </ol>
  </nav>
</section>
  
  <h4 class="aip-number">AIP-126</h4>
  <h1>Enumerations</h1>
<p>It is common for a field to only accept or provide a discrete and limited set
of values. In these cases, it can be useful to use enumerations (generally
abbreviated "enums") in order to clearly communicate what the set of allowed
values are.</p>
<h2 id="guidance">Guidance</h2>
<p>APIs <strong>may</strong> expose enum objects for sets of values that are expected to change
infrequently:</p>
<div class="highlight language-typescript"><pre><span></span><code><span class="c1">// Possible formats in which a book may be published.</span>
<span class="kr">enum</span> <span class="nx">Format</span> <span class="p">{</span>
  <span class="c1">// The printed format, in hardback.</span>
  <span class="nx">Hardback</span> <span class="o">=</span> <span class="s1">&#39;HARDBACK&#39;</span><span class="p">,</span>

  <span class="c1">// The printed format, in paperback.</span>
  <span class="nx">Paperback</span> <span class="o">=</span> <span class="s1">&#39;PAPERBACK&#39;</span><span class="p">,</span>

  <span class="c1">// An electronic book format.</span>
  <span class="nx">Ebook</span> <span class="o">=</span> <span class="s1">&#39;EBOOK&#39;</span><span class="p">,</span>

  <span class="c1">// An audio recording.</span>
  <span class="nx">Audiobook</span> <span class="o">=</span> <span class="s1">&#39;AUDIOBOOK&#39;</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>All enum values <strong>should</strong> use a consistent case format across an
  organization. In many cases, this is dictated by the IDL the organization
  uses.</li>
<li>Enums <strong>should</strong> document whether the enum is frozen or they expect to add
  values in the future.</li>
</ul>
<h3 id="when-to-use-enums">When to use enums</h3>
<p>Enums can be more accessible and readable than strings or booleans in many
cases, but they do add overhead when they change. Therefore, enums <strong>should</strong>
receive new values infrequently. While the definition of "infrequently" may
change based on individual use cases, a good rule of thumb is no more than once
a year. For enums that change frequently, the API <strong>should</strong> use a string and
document the format.</p>
<p><strong>Note:</strong> If an enumerated value needs to be shared across APIs, an enum
<strong>may</strong> be used, but the assignment between enum values and their wire
representation <strong>must</strong> match.</p>
<h3 id="alternatives">Alternatives</h3>
<p>Enums <strong>should not</strong> be used when there is a competing, widely-adopted standard
representation (such as with <a href="https://en.wikipedia.org/wiki/IETF_language_tag">language codes</a> or <a href="https://en.wikipedia.org/wiki/Media_type">media types</a>).
Instead, that standard representation <strong>should</strong> be used. This is true even if
only a small subset of values are permitted, because using enums in this
situation often leads to frustrating lookup tables when trying to use multiple
APIs together.</p>
<p>For enumerated values where the set of allowed values changes frequently, APIs
<strong>should</strong> use a <code>string</code> field instead, and <strong>must</strong> document the allowed
values. String fields with enumerated values <strong>should</strong> use a uniform case
system (<code>snake_case</code>, <code>kebab-case</code>, etc.) throughout an organization.</p>
<p>Boolean fields <strong>may</strong> be used in situations where it is clear that no further
flexibility will be needed. The default value <strong>must</strong> be <code>false</code>.</p>
<h3 id="compatibility">Compatibility</h3>
<p>Adding values to an enum has the potential to be disruptive to existing
clients. Consider code written against the <code>Format</code> enum in an earlier version
where only the first two options were available:</p>
<div class="highlight language-typescript"><pre><span></span><code><span class="k">switch</span> <span class="p">(</span><span class="nx">book</span><span class="p">.</span><span class="nx">format</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">case</span> <span class="nx">Format</span><span class="p">.</span><span class="nx">Hardback</span><span class="o">:</span>
    <span class="c1">// Do something...</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="nx">Format</span><span class="p">.</span><span class="nx">Paperback</span><span class="o">:</span>
    <span class="c1">// Do something...</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="c1">// When new enum values are introduced, pre-existing client code may</span>
    <span class="c1">// throw errors or act in unexpected ways.</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Unrecognized value.&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Services <strong>may</strong> add new values to existing enums; however, they <strong>should</strong> add
enums carefully; think about what will happen if a client system does not know
about a new value.</p>
<p>Additionally, in IDLs where enum values are presented in a specific order,
services <strong>should</strong> only add new values to the end. An exception to this rule
is if the enum conforms to an external standard (for example, an enum
representing HTTP status codes would add a new 3xx value alongside the others,
not at the end).</p>
<h2 id="interface-definitions">Interface Definitions</h2>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Protocol buffers</label><div class="tabbed-content">
<div class="highlight language-proto"><pre><span></span><code><span class="c1">// Possible formats in which the book may be published.</span>
<span class="kd">enum</span> <span class="n">Format</span> <span class="p">{</span>
  <span class="c1">// Default value. This value is unused.</span>
  <span class="na">FORMAT_UNSPECIFIED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="c1">// The printed format, in hardback.</span>
  <span class="na">HARDBACK</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="c1">// The printed format, in paperback.</span>
  <span class="na">PAPERBACK</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

  <span class="c1">// An electronic book format.</span>
  <span class="na">EBOOK</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

  <span class="c1">// An audio recording.</span>
  <span class="na">AUDIOBOOK</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>The zero value of the enum <strong>should</strong> be the name of the enum itself followed
  by the suffix <code>_UNSPECIFIED</code>. The service <strong>may</strong> either allow or prohibit
  use of this value.</li>
<li>Enums which will only be used in a single message <strong>should</strong> be nested within
  that message. In this case, the enum <strong>should</strong> be declared immediately
  before it is used.</li>
<li>If multiple enums are in the same namespace, they <strong>must not</strong> share any
  values. (This is because enums do not provide their own namespace for their
  values in some languages.)</li>
<li>If an enumerated value needs to be shared across APIs, an enum <strong>may</strong> be
  used, but the assignment between the value names and the tag numbers <strong>must</strong>
  match.</li>
</ul>
<p><strong>Note:</strong> When using protocol buffers, it is impossible to distinguish between
<code>false</code> and unset. If this is a requirement, an enum <strong>may</strong> be a better design
choice (although <code>google.protobuf.BoolValue</code> is also available).</p>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">OpenAPI 3.0</label><div class="tabbed-content">
<div class="highlight language-yaml"><pre><span></span><code><span class="nt">format</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The format of the book.</span>
  <span class="nt">nullable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">enum</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">HARDCOVER</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">PAPERBACK</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">EBOOK</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">AUDIOBOOK</span>
</code></pre></div>
<ul>
<li>Enumerated fields <strong>should</strong> be strings.</li>
<li>If the enum is optional, The <code>null</code> value <strong>should</strong> be used as the empty
  value, and <strong>should</strong> be the first value specified.</li>
</ul>
<p><strong>Note:</strong> If <code>null</code> is a valid value, OpenAPI 3.0 also requires that
<code>nullable: true</code> is specified for the field.</p>
</div>
</div>
<h2 id="further-reading">Further reading</h2>
<ul>
<li>For states, a special type of enum, see <a href="/aip.dev/216">AIP-216</a>.</li>
</ul>
  <footer>
  Except as otherwise noted, the content of this page is licensed under the
  <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons
  Attribution 4.0 License</a>, and code samples are licensed under the
  <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>.
  <span class="no-print">For details, see <a href="/licensing">content
  licensing</a>.</span>
</footer>
</section>

        </section>
      </main>
      
    </div>
    <script src="//www.gstatic.com/external_hosted/hammerjs/v2_0_2/hammer.min.js"></script>
    <script src="//www.gstatic.com/glue/v22_1/glue-vanilla.min.js"></script>
    <script type="text/javascript">
      const headerElement = document.querySelector('.glue-header');
      if (headerElement) {
        new window.glue.ui.header.Header(headerElement);
      }
    </script>
  </body>
</html>