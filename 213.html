<!DOCTYPE html>
<html lang="en-US" class="glue-flexbox">
  <head>
    <title>AEP-213: Common components</title>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link href="//fonts.googleapis.com/css?family=Roboto:100,300,400,500,700|Google+Sans:400,500|Product+Sans:400&amp;lang=en" rel="stylesheet"></link>
    <link rel="shortcut icon" href="/assets/favicon.ico">
    <link rel="stylesheet" type="text/css" media="screen" href="//www.gstatic.com/glue/v22_1/glue.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=93ff7cfc">
    <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css?v=93ff7cfc">
    <script type="text/javascript" src="//code.jquery.com/jquery-3.4.0.min.js"></script>
    <script type="text/javascript" src="//www.gstatic.com/glue/latest/glue-detect.min.js"></script>
    <script type="text/javascript">
      $('html').css('visibility', 'hidden');
      $.when($.ready).then(() => {
        $('html').css('visibility', 'visible');
      });
    </script>
    <script type="text/javascript" src="/assets/js/global.js?v=93ff7cfc"></script>
    
<script type="text/javascript" src="/assets/js/syntax.js"></script>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NSXMVSDN');</script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NSXMVSDN"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
    <!-- prettier-ignore -->
<header class="glue-header glue-header--single">
  <div class="glue-header__bar glue-header__bar--desktop glue-header__drawer">
    <div class="glue-header__tier">
      <!-- LOCK up-->
      <div class="glue-header__container">
        <div class="glue-header__lock-up">
          <div class="glue-header__logo">
            <a class="glue-header__logo-link" href="/" title="API Enhancement Proposals">
              <div class="glue-header__logo-container">
                <svg role="img" aria-hidden="true" class="glue-header__logo-svg">
                <!--<use xlink:href="/assets/images/glue-icons.svg#google-color-logo"></use>-->
                </svg>
              </div>
              <p class="glue-header__logo--product">AEPs</p>
            </a>
          </div>
          <a href="#page-content" class="glue-header__skip-content">
            <p class="glue-header__skip-content-text">Jump to Content</p>
          </a>
        </div>
      </div>
      <!-- LINK BAR-->
      <div class="glue-header__container glue-header__container--flex-auto">
        <nav class="glue-header__link-bar">
          <ul id="list-1" class="glue-header__list">
            
              
                <li class="glue-header__item">
                  <a class="glue-header__link" href="/general" aria-level="1">Browse AEPs</a>
                </li>
              
            
              
                <li class="glue-header__item">
                  <a class="glue-header__link" href="/contributing" aria-level="1">Contributing</a>
                </li>
              
            
          </ul>
        </nav>
      </div>
      <!-- CTA-->
      <div class="glue-header__container glue-header__container--cta">
        <div class="glue-header__cta">
        <div class="glue-sitesearch">
          <form method="GET" action="/search">
          <label for="q">Search this site</label>
          <input class="glue-sitesearch__input" type="text" name="q" id="q"
            placeholder="Search AEPs">
          <button type="submit" class="glue-button glue-sitesearch__submit" title="Submit">
            <svg role="img" class="glue-icon glue-icon--24px">
            <use xlink:href="/assets/images/glue-icons.svg#search"></use>
            </svg>
          </button>
          </form>
        </div>
        <a href="https://github.com/aep-dev/aep.dev" target="_blank" class="glue-button glue-button--high-emphasis">
          <img src="/assets/images/github.png" class="github-logo">
          View on GitHub
        </a>
        </div>
      </div>
    </div>
  </div>
  <!-- Mobile header placeholder -->
  <div class="glue-header__bar glue-header__bar--mobile">
    <div class="glue-header__tier">
      <!-- LOCK up-->
      <div class="glue-header__container">
        <div class="glue-header__lock-up">
          <div class="glue-header__hamburger glue-header__hamburger--first-tier">
            <div class="glue-header__hamburger-wrapper">
              <button type="button" class="glue-header__drawer-toggle-btn"
                aria-controls="drawer" aria-expanded="false" aria-label="Open the navigation drawer">
                <svg role="img" class="glue-icon glue-icon--24px"><use xlink:href="/assets/images/glue-icons.svg#menu"></use></svg>
              </button>
            </div>
          </div>
          <div class="glue-header__logo">
            <a class="glue-header__logo-link" href="/" title="Google">
              <div class="glue-header__logo-container">
                <svg role="img" aria-hidden="true" class="glue-header__logo-svg">
                  <!--<use xlink:href="/assets/images/glue-icons.svg#google-color-logo"></use>-->
                </svg>
              </div>
              <p class="glue-header__logo--product">AEPs</p>
            </a>
          </div>
          <!-- SKIP -->
          <a href="#page-content" class="glue-header__skip-content">
            <p class="glue-header__skip-content-text">Jump to Content</p>
          </a>
        </div>
      </div>
      <!-- CTA -->
      <div class="glue-header__container">
        <div class="glue-header__cta">
        <a href="https://github.com/aep-dev/aep.dev" class="glue-button glue-button--high-emphasis">
          <img src="/assets/images/github.png" class="github-logo">
          View on GitHub
        </a>
        </div>
      </div>
    </div>
  </div>
  <div class="glue-header__drawer-backdrop"></div>
</header>
    <div class="glue-page">
      
      <main role="main" id="page-content">
        
<nav id="aep-nav" class="docs-component-nav">
  <ul class="nav-list">
    <li class="nav-item nav-item-header">AEPs by Scope</li>
    <li class="nav-item">
      <a href="/general">General</a>
    </li>
    <li class="nav-item nav-item-header">AEPs</li>
    <li class="nav-item"><b>Meta</b></li>
      <li class="nav-item">
          <a href="/1">
            <span class="aep-id">1</span>
            AEP Purpose and Guidelines
          </a>
        </li>
      <li class="nav-item">
          <a href="/2">
            <span class="aep-id">2</span>
            AEP Numbering and Organization
          </a>
        </li>
      <li class="nav-item">
          <a href="/8">
            <span class="aep-id">8</span>
            AEP Style and Guidance
          </a>
        </li>
      <li class="nav-item"><b>General</b></li>
      <li class="nav-item">
          <a href="/3">
            <span class="aep-id">3</span>
            Glossary
          </a>
        </li>
      <li class="nav-item">
          <a href="/5">
            <span class="aep-id">5</span>
            Designing an API
          </a>
        </li>
      <li class="nav-item"><b>Resources</b></li>
      <li class="nav-item">
          <a href="/122">
            <span class="aep-id">122</span>
            Resource paths
          </a>
        </li>
      <li class="nav-item">
          <a href="/126">
            <span class="aep-id">126</span>
            Enumerations
          </a>
        </li>
      <li class="nav-item">
          <a href="/4">
            <span class="aep-id">4</span>
            Resource types
          </a>
        </li>
      <li class="nav-item">
          <a href="/121">
            <span class="aep-id">121</span>
            Resource-oriented design
          </a>
        </li>
      <li class="nav-item">
          <a href="/124">
            <span class="aep-id">124</span>
            Resource association
          </a>
        </li>
      <li class="nav-item">
          <a href="/156">
            <span class="aep-id">156</span>
            Singleton resources
          </a>
        </li>
      <li class="nav-item">
          <a href="/159">
            <span class="aep-id">159</span>
            Reading across collections
          </a>
        </li>
      <li class="nav-item"><b>Standard Methods</b></li>
      <li class="nav-item">
          <a href="/130">
            <span class="aep-id">130</span>
            Methods
          </a>
        </li>
      <li class="nav-item">
          <a href="/131">
            <span class="aep-id">131</span>
            Get
          </a>
        </li>
      <li class="nav-item">
          <a href="/132">
            <span class="aep-id">132</span>
            List
          </a>
        </li>
      <li class="nav-item">
          <a href="/136">
            <span class="aep-id">136</span>
            Custom methods
          </a>
        </li>
      <li class="nav-item">
          <a href="/133">
            <span class="aep-id">133</span>
            Create
          </a>
        </li>
      <li class="nav-item">
          <a href="/134">
            <span class="aep-id">134</span>
            Update
          </a>
        </li>
      <li class="nav-item">
          <a href="/135">
            <span class="aep-id">135</span>
            Delete
          </a>
        </li>
      <li class="nav-item"><b>Fields</b></li>
      <li class="nav-item">
          <a href="/141">
            <span class="aep-id">141</span>
            Quantities
          </a>
        </li>
      <li class="nav-item">
          <a href="/142">
            <span class="aep-id">142</span>
            Time and duration
          </a>
        </li>
      <li class="nav-item">
          <a href="/144">
            <span class="aep-id">144</span>
            Array fields
          </a>
        </li>
      <li class="nav-item">
          <a href="/145">
            <span class="aep-id">145</span>
            Ranges
          </a>
        </li>
      <li class="nav-item">
          <a href="/140">
            <span class="aep-id">140</span>
            Field names
          </a>
        </li>
      <li class="nav-item">
          <a href="/146">
            <span class="aep-id">146</span>
            Generic fields
          </a>
        </li>
      <li class="nav-item">
          <a href="/148">
            <span class="aep-id">148</span>
            Standard fields
          </a>
        </li>
      <li class="nav-item">
          <a href="/203">
            <span class="aep-id">203</span>
            Field behavior documentation
          </a>
        </li>
      <li class="nav-item"><b>Types</b></li>
      <li class="nav-item">
          <a href="/210">
            <span class="aep-id">210</span>
            Unicode
          </a>
        </li>
      <li class="nav-item">
          <a href="/143">
            <span class="aep-id">143</span>
            Standardized codes
          </a>
        </li>
      <li class="nav-item nav-item-active">
          <a href="/213">
            <span class="aep-id">213</span>
            Common components
          </a>
        </li>
      <li class="nav-item">
          <a href="/215">
            <span class="aep-id">215</span>
            Common component versions
          </a>
        </li>
      <li class="nav-item"><b>Design Patterns</b></li>
      <li class="nav-item">
          <a href="/154">
            <span class="aep-id">154</span>
            Resource freshness validation
          </a>
        </li>
      <li class="nav-item">
          <a href="/158">
            <span class="aep-id">158</span>
            Pagination
          </a>
        </li>
      <li class="nav-item">
          <a href="/151">
            <span class="aep-id">151</span>
            Long-running operations
          </a>
        </li>
      <li class="nav-item">
          <a href="/164">
            <span class="aep-id">164</span>
            Soft delete
          </a>
        </li>
      <li class="nav-item">
          <a href="/211">
            <span class="aep-id">211</span>
            Authorization checks
          </a>
        </li>
      <li class="nav-item">
          <a href="/157">
            <span class="aep-id">157</span>
            Partial responses
          </a>
        </li>
      <li class="nav-item">
          <a href="/160">
            <span class="aep-id">160</span>
            Filtering
          </a>
        </li>
      <li class="nav-item">
          <a href="/161">
            <span class="aep-id">161</span>
            Field masks
          </a>
        </li>
      <li class="nav-item">
          <a href="/162">
            <span class="aep-id">162</span>
            Resource Revisions
          </a>
        </li>
      <li class="nav-item">
          <a href="/193">
            <span class="aep-id">193</span>
            Errors
          </a>
        </li>
      <li class="nav-item">
          <a href="/214">
            <span class="aep-id">214</span>
            Resource expiration
          </a>
        </li>
      <li class="nav-item">
          <a href="/216">
            <span class="aep-id">216</span>
            States
          </a>
        </li>
      <li class="nav-item">
          <a href="/217">
            <span class="aep-id">217</span>
            Unreachable resources
          </a>
        </li>
      <li class="nav-item"><b>Batch Methods</b></li>
      <li class="nav-item">
          <a href="/231">
            <span class="aep-id">231</span>
            Batch methods: Get
          </a>
        </li>
      <li class="nav-item">
          <a href="/233">
            <span class="aep-id">233</span>
            Batch methods: Create
          </a>
        </li>
      <li class="nav-item">
          <a href="/234">
            <span class="aep-id">234</span>
            Batch methods: Update
          </a>
        </li>
      <li class="nav-item">
          <a href="/235">
            <span class="aep-id">235</span>
            Batch methods: Delete
          </a>
        </li>
      <li class="nav-item"><b>Security</b></li>
      <li class="nav-item"><b>Governance</b></li>
      <li class="nav-item">
          <a href="/100">
            <span class="aep-id">100</span>
            API Design Review FAQ
          </a>
        </li>
      <li class="nav-item">
          <a href="/205">
            <span class="aep-id">205</span>
            Beta-blocking changes
          </a>
        </li>
      <li class="nav-item"><b>Best Practices</b></li>
      <li class="nav-item">
          <a href="/180">
            <span class="aep-id">180</span>
            Backwards compatibility
          </a>
        </li>
      <li class="nav-item">
          <a href="/181">
            <span class="aep-id">181</span>
            Stability levels
          </a>
        </li>
      <li class="nav-item">
          <a href="/192">
            <span class="aep-id">192</span>
            Documentation
          </a>
        </li>
      <li class="nav-item">
          <a href="/200">
            <span class="aep-id">200</span>
            Precedent
          </a>
        </li>
      <li class="nav-item"><b>Protocol buffers</b></li>
      <li class="nav-item">
          <a href="/127">
            <span class="aep-id">127</span>
            HTTP and gRPC Transcoding
          </a>
        </li>
      <li class="nav-item">
          <a href="/191">
            <span class="aep-id">191</span>
            File and directory structure
          </a>
        </li>
      </ul>
</nav>
<section id="jump-content">
          
<aside id="aep-sidebar" class="docs-component-sidebar">
  <table id="aep-summary">
    <tr><th colspan="2">Common components</th></tr>
    <tr><td>Slug</td><td>common-components</td></tr>
    <tr><td>Number</td><td>213</td></tr>
    <tr><td>Permalink</td><td><a href="https://aep.dev/213">aep.dev/213</a></td></tr>
    <tr><td>State</td><td>Reviewing</td></tr>
    <tr><td>Created</td><td>2023-01-22</td></tr>
    <tr><td>Updated</td><td>2023-01-22</td></tr>
  </table>

  <section id="aep-toc" class="docs-component-sidebar-toc">
    <div class="toc"><span class="toctitle">Contents</span><ul>
<li><a href="#guidance">Guidance</a></li>
<li><a href="#existing-common-components">Existing common components</a><ul>
<li><a href="#api-design-patterns">API design patterns</a></li>
<li><a href="#common-types">Common types</a></li>
</ul>
</li>
<li><a href="#libraries-for-common-types">Libraries for common types</a></li>
<li><a href="#appendix-adding-to-common-components">Appendix: Adding to common components</a></li>
</ul>
</div>

  </section>

  <section class="docs-component-sidebar-actions">
    <ul>
      <li><a href="https://github.com/aep-dev/aep.dev/issues/">File Bug</a></li>
      <li><a href="https://github.com/aep-dev/aep.dev/blob/master/aep/general/0213">View source</a></li>
      <li><a href="https://github.com/aep-dev/aep.dev/edit/master/aep/general/0213">Edit this page</a></li>
    </ul>
  </section>
</aside>
<section id="aep-main" class="docs-component-main">
  <section class="section-breadcrumbs">
  <nav
    class="glue-breadcrumbs glue-mod-mt-std glue-mod-mb-std"
    aria-label="You are here."
  >
    <ol class="glue-breadcrumbs__list aep-breadcrumbs">
      <li class="glue-breadcrumbs__item" aria-level="1">
        <a class="glue-breadcrumbs__link" href="/">
          API Enhancement Proposals
        </a>
      </li>
      
      <li class="glue-breadcrumbs__item" aria-level="2">
        <a class="glue-breadcrumbs__link" href="/general">
          General AEPs
        </a>
      </li>
      
      <li class="glue-breadcrumbs__item glue-breadcrumbs__item--active"
          aria-level="3">
        Common components
      </li>
    </ol>
  </nav>
</section>
  <p id="aep-state-banner" class="callout note">
  This AEP is currently under review. This means that the editors have read it
  and are in high-level concurrence, and while it is not yet fully approved, we
  have a good faith expectation that the AEP will be approved in something
  close to its current state.
</p>
  <h4 class="aep-id">common-components (AEP-213)</h4>
  <h1 id="common-components">Common components</h1>
<p>In general, APIs should be designed to be self-contained. APIs generally need
to be able to move forward independently of one another, and mutual
dependencies can cause downstream APIs to be forced into taking major version
changes or even lead to dependency conflicts.</p>
<p>However, there are also cases where common structures are valuable, especially
where a concept is well-known and it is sufficiently clear that it will not
change. Having a single representation of these common structures is valuable
because it avoids disrepancies between APIs in things like how dates or
monetary values are represented. It also enables shared libraries for common
operations, such as basic arithmetic on monetary values.</p>
<p>Common components serve this use case.</p>
<h2 id="guidance">Guidance</h2>
<p>The public representation of APIs <strong>should</strong> be self-contained (for protocol
buffers, this means that all API protos used by the API originate in the same
proto <code>package</code>), except for common components, which <strong>may</strong> be used freely in
any API.</p>
<p>An API <strong>must not</strong> define a set of API-specific common components which live
outside of its versioning structure. This prevents independent movement of
particular versions and also causes problems for client libraries in many
languages that compile protobuf messages into classes.</p>
<p>An API <strong>should not</strong> define alternative representations of any of the existing
common components described below, even within its versioning structure.</p>
<h2 id="existing-common-components">Existing common components</h2>
<p>The common components, which public-facing APIs <strong>may</strong> safely depend on, are
defined canonically in the <a href="https://github.com/aep-dev/aep">AEP common components</a> repository. These include
READMEs with canonical definitions for each component, and -- when applicable
-- implementations of these definitions, in both JSON Schema and protobuf
formats. The protobufs are also published to the Buf Schema Sepository at
<a href="https://buf.build/aep"><code>buf.build/aep</code></a>, and the JSON schemas are published to the <a href="https://www.schemastore.org/json/">JSON Schema
Store</a> with names beginning with <code>aep-</code>, for example <code>aep-type-money</code> or
<code>aep-longrunning-operation</code>.</p>
<p>While the <a href="https://github.com/aep-dev/aep">AEP common components</a> repository is canonical and takes
precedence over this list, some of the common components defined there include
representations of the following concepts:</p>
<h3 id="api-design-patterns">API design patterns</h3>
<ul>
<li><code>Operation</code>: Represents the status of a long-running request (see <a href="/151">AEP-151</a> for
  details).</li>
</ul>
<h4 id="grpc-specific-api-design-patterns">gRPC-specific API design patterns</h4>
<p><strong>Note:</strong> These common components apply to protobuf APIs only.</p>
<ul>
<li>
<p><a href="https://github.com/googleapis/googleapis/tree/master/google/api"><code>google.api.*</code></a> (but <em>not</em> subpackages of <code>google.api</code>): Annotations
  useful for gRPC/JSON transcoding, supported by frameworks including .NET 7.</p>
</li>
<li>
<p><a href="https://github.com/googleapis/googleapis/tree/master/google/rpc"><code>google.rpc.*</code></a>: A small number of components related to gRPC
  request/response status and errors.</p>
</li>
</ul>
<h3 id="common-types">Common types</h3>
<p>This section provides examples for the sake of illustration; it may not be
exhaustive. The <a href="https://github.com/aep-dev/aep">AEP common components</a> repo is canonical.</p>
<p><strong>Note:</strong> Some of these types are not yet defined, but are expected to be
adopted based on their existence in <code>google.type</code>, which has historically had a
very high barrier to entry.</p>
<h4 id="general-common-types">General common types</h4>
<ul>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/color.md"><code>Color</code></a>: RGB or RGBA colors.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/decimal.md"><code>Decimal</code></a>: Decimal numbers.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/fraction.md"><code>Fraction</code></a>: A numeric fraction.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/lat_lng.md"><code>LatLng</code></a>: Geographic coordinates.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/money.md"><code>Money</code></a>: An amount of money in a given currency.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/phone_number.md"><code>PhoneNumber</code></a>: A phone number in most countries.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/postal_address.md"><code>PostalAddress</code></a>: Postal addresses in most countries.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/quaternion.md"><code>Quaternion</code></a>: A geometric quaternion.</p>
</li>
</ul>
<h4 id="date-and-time-related-types">Date- and time-related types</h4>
<ul>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/date.md"><code>Date</code></a>: A calendar date, with no time or time zone component.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/date_time.md"><code>DateTime</code></a>: A calendar date and wall-clock time, with optional
  time zone or UTC offset information.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/day_of_week.md"><code>DayOfWeek</code></a>: An enumeration representing the day of the week.</p>
</li>
<li>
<p><a href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/duration.proto"><code>Duration</code></a>: A duration with nanosecond-level precision.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/interval.md"><code>Interval</code></a>: An interval between two timestamps.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/month.md"><code>Month</code></a>: An enumeration representing the Gregorian month.</p>
</li>
<li>
<p><a href="https://github.com/aep-dev/aep/tree/master/schemas/type/time_of_day.md"><code>TimeOfDay</code></a>: Wall-clock time, with no date or time zone
  component.</p>
</li>
<li>
<p><a href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/timestamp.proto"><code>Timestamp</code></a>: A timestamp with nanosecond-level precision.</p>
</li>
</ul>
<h5 id="protobuf-well-known-types">Protobuf well-known types</h5>
<p><strong>Note:</strong> These common components apply to protobuf APIs only.</p>
<p>The <a href="https://github.com/protocolbuffers/protobuf/tree/main/src/google/protobuf"><code>google.protobuf</code></a> package is shipped with protocol buffers
itself, rather than with API tooling. The Well-Known Types defined in this
package should always be used when appropriate, and the <a href="https://github.com/aep-dev/aep">AEP common
components</a> repo does not define any protos for these types, even when it
defines a corresponding JSON Schema. These include:</p>
<ul>
<li><a href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/duration.proto"><code>google.protobuf.Duration</code></a>: Durations, with nanosecond-level
  precision. The protobuf runtime provides helper functions to convert to and
  from language-native duration objects where applicable (such as Python's
  <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta"><code>timedelta</code></a>).</li>
<li><a href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/timestamp.proto"><code>google.protobuf.Timestamp</code></a>: Timestamps, with nanosecond-level
  precision. The protobuf runtime provides helper functions in most languages
  to convert to and from language-native timestamp objects (such as Python's
  <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime"><code>datetime</code></a>).</li>
</ul>
<p><code>google.protobuf</code> also provides some useful components that correspond to JSON
primitives (and so have no representation at all in the <a href="https://github.com/aep-dev/aep">AEP common
components</a> repo), namely:</p>
<ul>
<li><a href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/struct.proto"><code>google.protobuf.Value</code></a>: An arbitrary JSON value. The protobuf
  runtime provides helper functions in most languages to convert <code>Value</code>
  objects to and from JSON.</li>
<li><a href="https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/struct.proto"><code>google.protobuf.Struct</code></a>: JSON-like structures (a dictionary of
  primitives, lists, and other dictionaries). The protobuf runtime provides
  helper functions in most languages to convert <code>Struct</code> objects to and from
  JSON.</li>
</ul>
<p><code>google.protobuf.Struct</code> and <code>google.protobuf.Value</code> are designated common
components by this AEP; proto-based APIs <strong>should</strong> use them when representing
arbitrary JSON-like structures.</p>
<h2 id="libraries-for-common-types">Libraries for common types</h2>
<p>For the common components in the <code>aep.type</code> namespace, which represent common
data types, the <a href="https://github.com/aep-dev/aep">AEP common components</a> repo may contain canonical libraries
in a number of languages. These libraries are designed to be idiomatic in a
given language, and should feel similar to using the language's standard
libraries. They should provide basic functionality like adding two <code>Money</code>
values, or determining if one <code>Date</code> comes before another.</p>
<p>When a language already has a standard library representation of a common type
(such as Python's <code>datetime</code> for the <code>Timestamp</code> type), there may instead be a
library for converting the JSON or protobuf representation to the standard
library representation.</p>
<p>If a library you want does not exist, and you want to contribute one, please
<a href="https://github.com/aep-dev/aep/issues">open an issue</a> on the <a href="https://github.com/aep-dev/aep">AEP common components</a> repository in GitHub.</p>
<h2 id="appendix-adding-to-common-components">Appendix: Adding to common components</h2>
<p>Occasionally, it may be useful to add protos to these packages or to add to the
list of common components. In order to do this, <a href="https://github.com/aep-dev/aep/issues">open an issue</a> on the <a href="https://github.com/aep-dev/aep">AEP
common components</a> repository in GitHub.</p>
<p>However, some general guidelines are worth noting for this:</p>
<ul>
<li>Schemas <strong>should</strong> only be granted common component status if it is certain
  that they will never change (at all -- even in ways that would normally be
  considered backwards compatible). Common components are not versioned, and it
  must be the case that API creators and consumers can rely on the component to
  be a complete and accurate representation indefinitely.</li>
<li>Schemas must be applicable to a significant number of APIs for consideration
  as common components.</li>
<li>Even after a common component is added, APIs using local versions <strong>must</strong>
  continue to do so until they go to the next major version.</li>
</ul>
<!-- prettier-ignore-start -->
<!-- prettier-ignore-end -->
  <footer>
  Except as otherwise noted, the content of this page is licensed under the
  <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons
  Attribution 4.0 License</a>, and code samples are licensed under the
  <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>.
  <span class="no-print">For details, see <a href="/licensing">content
  licensing</a>.</span>
</footer>
</section>

        </section>
      </main>
      
    </div>
    <script src="//www.gstatic.com/external_hosted/hammerjs/v2_0_2/hammer.min.js"></script>
    <script src="//www.gstatic.com/glue/v22_1/glue-vanilla.min.js"></script>
    <script type="text/javascript">
      const headerElement = document.querySelector('.glue-header');
      if (headerElement) {
        new window.glue.ui.header.Header(headerElement);
      }
    </script>
  </body>
</html>